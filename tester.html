<!DOCTYPE html>
<html>
<head>
  <title>Firebase Storage Delete</title>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
</head>
<body>
  <h1>Firebase Storage Delete</h1>
  <button id="loginBtn">Giriş Yap</button>
  <button id="deleteBtn" disabled>Resmi Sil</button>

  <script>
    // Firebase config
    var firebaseConfig = {
      apiKey: "AIzaSyALEBp8MKAX8gaKhgMfDnOoehAcEX20fZ8",
      authDomain: "optimi-tournaments-dev.firebaseapp.com",
      projectId: "optimi-tournaments-dev",
      storageBucket: "optimi-tournaments-dev",
      appId: "1:1066633250167:web:670985daecfc8ba235cd72"
    };

    if (!firebase.apps.length) {
      firebase.initializeApp(firebaseConfig);
    }

    const loginBtn = document.getElementById("loginBtn");
    const deleteBtn = document.getElementById("deleteBtn");

    // Basit Google login
    loginBtn.onclick = async () => {
      const provider = new firebase.auth.GoogleAuthProvider();
      try {
        await firebase.auth().signInWithPopup(provider);
        alert("✅ Giriş yapıldı!");
        deleteBtn.disabled = false; // Sil butonunu aktif et
      } catch (e) {
        alert("❌ Giriş Hatası: " + e.message);
      }
    };

    // Resmi sil
    deleteBtn.onclick = async () => {
      const fileRef = firebase.storage().ref(
        "tournaments/İstinye Üniversitesi - TFT - KEP Turnuvası #1/banner"
      );

      try {
        await fileRef.delete();
        alert("✅ Resim silindi!");
      } catch (e) {
        alert("❌ Hata: " + e.message);
      }
    };
  </script>
</body>
</html>
